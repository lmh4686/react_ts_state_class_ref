For the function, type inference only happens when it's declared inline(using call back)  

